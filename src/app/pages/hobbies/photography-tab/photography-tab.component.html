<mat-card appearance="outlined">
  <mat-card-content>
    @defer (on timer(2s)) {
      <div class="outter-grid">
        @for (grid of [pics, pics2]; track grid; let outerIndex = $index) {
          <div class="grid">
            @for (item of grid; track $index) {
              <div
                class="grid-item"
                [lightbox]="$index"
                [gallery]="galleryIds[outerIndex]"
              >
                @if (item.data && item.data.thumb) {
                  @if ($even) {
                    @if (($index / 2) % 3 === 0) {
                      <mat-card appearance="raised" class="odd-3">
                        <mat-card-content>
                          <img
                            [ngSrc]="
                              formartForCloudinaryProvider(item.data.thumb)
                            "
                            decoding="async"
                            height="300"
                            width="300"
                            sizes="15vw"
                            priority
                          />
                        </mat-card-content>
                      </mat-card>
                    } @else if (($index / 2) % 5 === 0) {
                      <mat-card appearance="raised" class="odd-5">
                        <mat-card-content>
                          <img
                            [ngSrc]="
                              formartForCloudinaryProvider(item.data.thumb)
                            "
                            decoding="async"
                            height="300"
                            width="300"
                            sizes="15vw"
                            priority
                          />
                        </mat-card-content>
                      </mat-card>
                    } @else if (($index / 2) % 7 === 0) {
                      <mat-card appearance="raised" class="odd-7">
                        <mat-card-content>
                          <img
                            [ngSrc]="
                              formartForCloudinaryProvider(item.data.thumb)
                            "
                            decoding="async"
                            height="300"
                            width="300"
                            sizes="15vw"
                            priority
                          />
                        </mat-card-content>
                      </mat-card>
                    } @else {
                      <mat-card appearance="raised" class="even-2">
                        <mat-card-content>
                          <img
                            [ngSrc]="
                              formartForCloudinaryProvider(item.data.thumb)
                            "
                            decoding="async"
                            height="300"
                            width="300"
                            sizes="15vw"
                            priority
                          />
                        </mat-card-content>
                      </mat-card>
                    }
                  } @else if ($odd) {
                    @if ($index % 3 === 0) {
                      <mat-card appearance="raised" class="odd-3">
                        <mat-card-content>
                          <img
                            [ngSrc]="
                              formartForCloudinaryProvider(item.data.thumb)
                            "
                            decoding="async"
                            height="300"
                            width="300"
                            sizes="15vw"
                            priority
                          />
                        </mat-card-content>
                      </mat-card>
                    } @else if ($index % 5 === 0) {
                      <mat-card appearance="raised" class="odd-5">
                        <mat-card-content>
                          <img
                            [ngSrc]="
                              formartForCloudinaryProvider(item.data.thumb)
                            "
                            decoding="async"
                            height="300"
                            width="300"
                            sizes="15vw"
                            priority
                          />
                        </mat-card-content>
                      </mat-card>
                    } @else if ($index % 7 === 0) {
                      <mat-card appearance="raised" class="odd-7">
                        <mat-card-content>
                          <img
                            [ngSrc]="
                              formartForCloudinaryProvider(item.data.thumb)
                            "
                            decoding="async"
                            height="300"
                            width="300"
                            sizes="15vw"
                            priority
                          />
                        </mat-card-content>
                      </mat-card>
                    } @else {
                      <mat-card appearance="raised" class="else">
                        <mat-card-content>
                          <img
                            [ngSrc]="
                              formartForCloudinaryProvider(item.data.thumb)
                            "
                            decoding="async"
                            height="300"
                            width="300"
                            sizes="15vw"
                            priority
                          />
                        </mat-card-content>
                      </mat-card>
                    }
                  }
                }
              </div>
            } @empty {
              <h1>No Pictures To Display!</h1>
            }
          </div>
        }
      </div>
    } @loading (minimum 8s) {
      <div class="lds-ellipsis">
        <div></div>
        <div></div>
        <div></div>
        <div></div>
        <div></div>
        <div></div>
        <div></div>
        <div></div>
      </div>
    } @error {
      <h1>An Error Has Occured. No Pictures To Display!</h1>
    }
  </mat-card-content>
</mat-card>
<!-- @placeholder(minimum 5s) {
  <img id="placeholder" src="assets/icons/icon-384x384.png" />

}  -->
