#!/usr/bin/env sh

# Skip when commit message is provided by a file/template/merge/squash
case "$2" in
  message|template|merge|squash)
    exit 0
    ;;
esac

# Skip in CI environments
[ -n "$CI" ] && exit 0

# Run Commitizen only in interactive TTY sessions
if [ -t 0 ] && [ -t 1 ]; then
  exec < /dev/tty && npx --no-install cz --hook || true
fi

exit 0
